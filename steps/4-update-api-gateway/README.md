# Обновление спецификации API Gateway

Наша функция готова, но по умолчанию она не является публичной. Предоставим доступ к этой функции с помощью API-шлюза. Для этого нам необходимо обновить ранее созданную спецификацию `hello-world.yaml`.

    yc serverless api-gateway update \
    --name hello-world \
    --spec=hello-world.yaml \

Для тестрирования выполните вызов функции в боаузере без параметра `secret` и с ним:

    https://<ID API Gateway>.apigw.yandexcloud.net/results
    https://<ID API Gateway>.apigw.yandexcloud.net/results?secret=cecfb23c-bc86-4ca2-b611-e79bc77e5c31

В ответе увидите результаты тестирования сервиса yandex.ru из базы данных.

Конечно, иногда нужно протестировать вашу функцию в процессе разработки и в нашем случае вы можете с помощью UI в боковом меню отображения финформации о функции выбрать пункт `Тестирование` в выбрать шаблон `HTTP-вызов`. Нажмите `Запустить тест` — и вы увидите код ошибки. Код функции проверяет параметр `secret` для авторизации. То есть вы должны передать при вызове секретную последовательность, чтобы функция выдала результат. Добавим этот секрет в параметры запроса в окне `Входные данные`:
        
    "queryStringParameters": {
        "a": "2",
        "b": "1",
        "secret": "cecfb23c-bc86-4ca2-b611-e79bc77e5c31"
    },

Запустите тест ещё раз. В ответе вы увидите данные из базы. Как и с запросами через браузер.

